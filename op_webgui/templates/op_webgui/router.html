{% extends 'op_webgui/base.html' %}

{% load bootstrap3 %}

{% block bootstrap3_title %}{% block title %}Router {{ router.hostname }}{% endblock %}{% endblock %}

{% block content %}

  <ul>
    <li><b>Router ID:</b> {{ router.routing_id }}</li>
    <li><b>ASN:</b> {{ router.local_aut_num.asn }}</li>
    <li><b>Network OS:</b> {{ router.network_os }}</li>
    <li><b>iBGP Enabled:</b> {{ router.ibgp }}</li>
    <li><b>SSH Enabled:</b> {{ router.service_ssh }}</li>
    <li><b>NETCONF Enabled:</b> {{ router.service_netconf }}</li>
  </ul>

  <ul>
  {% for neighbor in router.neighbor_set.all %}
    <li>{{ neighbor.peer_ip }} - {{ neighbor.aut_num }}</li>
  {% endfor %}
  </ul>

  <ul>
  {% for interface in router.interface_set.all %}
    {% for logical_interface in interface.logical_interface_set.all %}
    <li>{{ router.hostname }} {{ interface.name }}.{{ logical_interface.name }} ({{ interface.description }}) {{ logical_interface.description }}</li>
      <ul>
      {% for ipv4_address in logical_interface.ipv4_address_set.all %}
         <li>{{ ipv4_address.host }}/{{ ipv4_address.cidr }}</li>
      {% endfor %}
      </ul>
      <ul>
      {% for ipv6_address in logical_interface.ipv6_address_set.all %}
         <li>{{ ipv6_address.host }}/{{ ipv6_address.cidr }}</li>
      {% endfor %}
      </ul>
    {% endfor %}
  {% endfor %}
  </ul>

{% endblock %}
