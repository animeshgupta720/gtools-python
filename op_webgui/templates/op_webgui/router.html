{% extends 'op_webgui/base.html' %}

{% load bootstrap3 %}

{% block bootstrap3_title %}{% block title %}Router {{ router.hostname }}{% endblock %}{% endblock %}

{% block content %}

  <br />
  <a href="{% url 'op_webgui:router_edit' router.id %}" class="btn btn-default btn-sm">Edit</a>
  <a href="{% url 'op_webgui:ipv6_static_create' router.id %}" class="btn btn-success btn-sm">Add IPv6 Static Route</a>
  <a href="{% url 'op_webgui:ipv4_static_create' router.id %}" class="btn btn-success btn-sm">Add IPv4 Static Route</a>
  <a href="{% url 'op_webgui:neighbor_create' router.id %}" class="btn btn-success btn-sm">Add BGP Neighbor</a>
  <hr />

  <ul>
    <li><b>Router ID:</b> {{ router.routing_id }}</li>
    <li><b>ASN:</b> {{ router.local_aut_num.asn }}</li>
    <li><b>Network OS:</b> {{ router.network_os }}</li>
    <li><b>iBGP Enabled:</b> {{ router.ibgp }}</li>
    <li><b>SSH Enabled:</b> {{ router.service_ssh }}</li>
    <li><b>NETCONF Enabled:</b> {{ router.service_netconf }}</li>
  </ul>

  <ul>
  {% for neighbor in router.neighbor_set.all %}
    <li>
      <a href="{% url 'op_webgui:neighbor_edit' neighbor.id %}" class="btn btn-default btn-xs">edit</a>
      {{ router.hostname }} {{ neighbor.peer_ip }} - {{ neighbor.aut_num }}
    </li>
  {% endfor %}
  </ul>

  <ul>
  {% for interface in router.interface_set.all %}
    {% for logical_interface in interface.logical_interface_set.all %}
    <li>{{ router.hostname }} {{ interface.name }}.{{ logical_interface.name }} ({{ interface.description }}) {{ logical_interface.description }}</li>
      <ul>
      {% for ipv4_address in logical_interface.ipv4_address_set.all %}
         <li>{{ ipv4_address.host }}/{{ ipv4_address.cidr }}</li>
      {% endfor %}
      </ul>
      <ul>
      {% for ipv6_address in logical_interface.ipv6_address_set.all %}
         <li>{{ ipv6_address.host }}/{{ ipv6_address.cidr }}</li>
      {% endfor %}
      </ul>
    {% endfor %}
  {% endfor %}
  </ul>

  <ul>
  {% for ipv6_static in router.ipv6_static_set.all %}
    <li>
      <a href="{% url 'op_webgui:ipv6_static_edit' ipv6_static.id %}" class="btn btn-default btn-xs">edit</a>
      {{ ipv6_static }}
    </li>
  {% endfor %}
  </ul>

  <ul>
  {% for ipv4_static in router.ipv4_static_set.all %}
    <li>
      <a href="{% url 'op_webgui:ipv4_static_edit' ipv4_static.id %}" class="btn btn-default btn-xs">edit</a>
      {{ ipv4_static }}
    </li>
  {% endfor %}
  </ul>

{% endblock %}
